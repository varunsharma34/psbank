"use strict";(self.webpackChunkpsbank=self.webpackChunkpsbank||[]).push([[963],{9629:function(e,r,n){n.d(r,{Z:function(){return v}});var t=n(1889),a=n(7865),i=n(6151),s=n(1134),l=n(1413),o=n(8550),u=n(184),c=function(e){var r=e.name,n=e.control,t=e.label,a=e.type,i=void 0===a?"text":a,c=e.required,d=void 0!==c&&c,m=e.pattern,f=e.formstate,p=e.register;return(0,u.jsx)(s.Qr,{name:r,control:n,render:function(e){return(0,u.jsx)(o.Z,(0,l.Z)({InputLabelProps:{shrink:"date"===i||e.value},fullWidth:!0,type:i,label:t,variant:"outlined",name:r,error:!!f.errors[r],helperText:f.errors[r]?f.errors[r].message:""},p(r,{required:d,pattern:m})))},defaultValue:""})},d=n(5987),m=n(8096),f=n(4925),p=n(6869),h=n(7071),x=["name","label","control","defaultValue","children","errors"],Z=function(e){var r=e.name,n=e.label,t=e.control,a=e.defaultValue,i=e.children,o=e.errors,c=(0,d.Z)(e,x),Z="".concat(r,"-label");return(0,u.jsxs)(m.Z,(0,l.Z)((0,l.Z)({fullWidth:!0},c),{},{children:[(0,u.jsx)(f.Z,{id:Z,children:n}),(0,u.jsx)(s.Qr,{defaultValue:a,render:function(e){var r=e.field;return(0,u.jsx)(p.Z,(0,l.Z)((0,l.Z)({},r),{},{labelId:Z,label:n,children:i}))},name:r,control:t}),(0,u.jsx)(h.Z,{children:o.type?o.type.message:""})]}))},v=function(e){var r=e.data,n=e.formSubmitHandler,l=e.children,o=r.formFields,d=r.submitButtonText,m=void 0===d?"Submit":d,f=(0,s.cI)({mode:"all"}),p=f.register,h=f.handleSubmit,x=f.control,v=f.formState;return(0,u.jsx)("form",{onSubmit:h((function(e){n(e)})),children:(0,u.jsxs)(t.ZP,{container:!0,direction:"column",spacing:2,justifyContent:"center",children:[o.length&&o.map((function(e){return"select"===e.type?(0,u.jsx)(t.ZP,{item:!0,xs:12,children:(0,u.jsx)(Z,{id:e.name,name:e.name,label:e.label,control:x,defaultValue:e.options&&e.options.length&&e.options[0].value,errors:v.errors,error:!!v.errors.type,children:e.options&&e.options.length&&e.options.map((function(e){return(0,u.jsx)(a.Z,{value:e.value,children:e.name},e.value)}))})},e.name):(0,u.jsx)(t.ZP,{item:!0,xs:12,children:(0,u.jsx)(c,{name:e.name,label:e.label,type:e.type,control:x,register:p,formstate:v,required:e.required,pattern:e.pattern})},e.name)})),(0,u.jsx)(t.ZP,{item:!0,xs:12,children:(0,u.jsx)(i.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:m})}),l]})})}},963:function(e,r,n){n.r(r),n.d(r,{default:function(){return Z}});var t=n(4165),a=n(5861),i=n(9439),s=n(2791),l=n(7689),o=n(1087),u=n(9526),c=n(9629),d={formName:"Login",submitButtonText:"Login",formFields:[{label:"Email",name:"email",type:"text",required:{value:!0,message:"Email is required"},defaultValue:""},{label:"Password",name:"password",type:"password",required:{value:!0,message:"Password is required"},defaultValue:""}]},m=n(9658),f=n(1889),p=n(890),h=n(1104),x=n(184),Z=function(){var e=(0,l.s0)(),r=(0,l.TH)(),n=(0,s.useState)(),Z=(0,i.Z)(n,2),v=Z[0],b=Z[1],j=(0,s.useContext)(u.S),g=j.user,y=j.fetchUser,w=j.emailPasswordLogin,k=function(){var n=r.search.replace("?redirectTo=","");e(n||"/")},P=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=5;break}return e.next=3,y();case 3:e.sent&&k();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){P()}),[]);var S=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(r.email,r.password);case 3:e.sent&&k(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b(e.t0.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}();return(0,x.jsxs)(h.Z,{type:"formpage",children:[(0,x.jsx)("h1",{children:d.formName}),v&&(0,x.jsx)(m.Z,{severity:"error",sx:{marginBottom:"20px"},children:v}),(0,x.jsx)(c.Z,{data:d,formSubmitHandler:S,children:(0,x.jsx)(f.ZP,{item:!0,xs:12,marginBottom:"20px",children:(0,x.jsxs)(p.Z,{children:["Already have an account? ",(0,x.jsx)(o.rU,{to:"/signup",children:"Signup"})]})})})]})}}}]);
//# sourceMappingURL=963.73671f72.chunk.js.map