"use strict";(self.webpackChunkpsbank=self.webpackChunkpsbank||[]).push([[692],{5231:function(e,n,r){var t=r(1614),a=r(1889),o=r(7047),i=(r(2791),r(184));n.Z=function(){return(0,i.jsx)(t.Z,{fixed:!0,children:(0,i.jsxs)(a.ZP,{item:!0,xs:12,justifyContent:"center",sx:{marginTop:"20px"},children:[(0,i.jsx)(o.Z,{height:60}),(0,i.jsx)(o.Z,{animation:"wave"}),(0,i.jsx)(o.Z,{animation:!1}),(0,i.jsx)(o.Z,{}),(0,i.jsx)(o.Z,{animation:"wave"}),(0,i.jsx)(o.Z,{animation:!1})]})})}},3906:function(e,n,r){var t=r(4164),a=r(9818),o=r(184),i=function(e){var n=e.children,r=e.handleClose,i=e.isOpen;return(0,t.createPortal)((0,o.jsx)(a.Z,{open:i,onClose:r,fullWidth:!0,children:n}),document.body)};i.defaultProps={isOpen:!1},n.Z=i},3389:function(e,n,r){var t=r(4942),a=r(9439),o=r(2791),i=r(4554),c=r(9836),s=r(3382),l=r(8745),u=r(618),d=r(9281),x=r(6890),p=r(7550),h=r(5855),m=r(5527),f=r(6934),Z=r(184),v=function(e){var n=e.data,r=e.tableHeadings,v=o.useState(0),b=(0,a.Z)(v,2),g=b[0],j=b[1],y=o.useState(5),C=(0,a.Z)(y,2),k=C[0],w=C[1],S=g>0?Math.max(0,(1+g)*k-n.length):0,P=(0,f.ZP)(l.Z)((function(e){var n,r=e.theme;return n={},(0,t.Z)(n,"&.".concat(u.Z.head),{backgroundColor:r.palette.common.black,color:r.palette.common.white}),(0,t.Z)(n,"&.".concat(u.Z.body),{fontSize:14}),n})),A=(0,f.ZP)(h.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));return(0,Z.jsx)(i.Z,{sx:{width:"100%"},children:(0,Z.jsxs)(m.Z,{sx:{width:"100%",mb:2},children:[(0,Z.jsx)(d.Z,{children:(0,Z.jsxs)(c.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[r&&r.length&&(0,Z.jsx)(x.Z,{sx:{fontWeight:"bold"},children:(0,Z.jsx)(h.Z,{hover:!0,tabIndex:-1,children:r.map((function(e){return(0,Z.jsx)(P,{component:"th",scope:"row",padding:"normal",children:e.name},e.name)}))})}),(0,Z.jsxs)(s.Z,{children:[n.length?n.slice(g*k,g*k+k).map((function(e){var n="enhanced-table-checkbox-".concat(e.number),r=new Date(e.createdAt),t="".concat(r.getDate(),"/").concat(r.getMonth()+1,"/").concat(r.getFullYear());return(0,Z.jsxs)(A,{hover:!0,tabIndex:-1,children:[(0,Z.jsx)(P,{component:"th",id:n,scope:"row",padding:"normal",children:e.number}),(0,Z.jsx)(P,{children:e.amount}),(0,Z.jsx)(P,{children:e.destination_account}),(0,Z.jsx)(P,{children:e.description}),(0,Z.jsx)(P,{children:t})]},e._id)})):(0,Z.jsx)(A,{hover:!0,tabIndex:-1,children:(0,Z.jsx)(l.Z,{colSpan:5,children:"No data"})}),S>0&&(0,Z.jsx)(h.Z,{children:(0,Z.jsx)(l.Z,{colSpan:6})})]})]})}),(0,Z.jsx)(p.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:n.length,rowsPerPage:k,page:g,onPageChange:function(e,n){j(n)},onRowsPerPageChange:function(e){w(parseInt(e.target.value,10)),j(0)}})]})})};v.defaultProps={data:[]},n.Z=v},9629:function(e,n,r){r.d(n,{Z:function(){return v}});var t=r(1889),a=r(7865),o=r(6151),i=r(1134),c=r(1413),s=r(8550),l=r(184),u=function(e){var n=e.name,r=e.control,t=e.label,a=e.type,o=void 0===a?"text":a,u=e.required,d=void 0!==u&&u,x=e.formstate,p=e.register;return(0,l.jsx)(i.Qr,{name:n,control:r,render:function(e){return(0,l.jsx)(s.Z,(0,c.Z)({InputLabelProps:{shrink:"date"===o||e.value},fullWidth:!0,type:o,label:t,variant:"outlined",name:n,error:!!x.errors[n],helperText:x.errors[n]?x.errors[n].message:""},p(n,{required:d})))},defaultValue:""})},d=r(5987),x=r(8096),p=r(4925),h=r(6869),m=r(7071),f=["name","label","control","defaultValue","children","errors"],Z=function(e){var n=e.name,r=e.label,t=e.control,a=e.defaultValue,o=e.children,s=e.errors,u=(0,d.Z)(e,f),Z="".concat(n,"-label");return(0,l.jsxs)(x.Z,(0,c.Z)((0,c.Z)({fullWidth:!0},u),{},{children:[(0,l.jsx)(p.Z,{id:Z,children:r}),(0,l.jsx)(i.Qr,{defaultValue:a,render:function(e){var n=e.field;return(0,l.jsx)(h.Z,(0,c.Z)((0,c.Z)({},n),{},{labelId:Z,label:r,children:o}))},name:n,control:t}),(0,l.jsx)(m.Z,{children:s.type?s.type.message:""})]}))},v=function(e){var n=e.data,r=e.formSubmitHandler,c=e.children,s=n.formFields,d=n.submitButtonText,x=void 0===d?"Submit":d,p=(0,i.cI)(),h=p.register,m=p.handleSubmit,f=p.control,v=p.formState;return(0,l.jsx)("form",{onSubmit:m((function(e){r(e)})),children:(0,l.jsxs)(t.ZP,{container:!0,direction:"column",spacing:2,justifyContent:"center",children:[s.length&&s.map((function(e){return"select"===e.type?(0,l.jsx)(t.ZP,{item:!0,xs:12,children:(0,l.jsx)(Z,{id:e.name,name:e.name,label:e.label,control:f,defaultValue:e.options&&e.options.length&&e.options[0].value,errors:v.errors,error:!!v.errors.type,children:e.options&&e.options.length&&e.options.map((function(e){return(0,l.jsx)(a.Z,{value:e.value,children:e.name},e.value)}))})},e.name):(0,l.jsx)(t.ZP,{item:!0,xs:12,children:(0,l.jsx)(u,{name:e.name,label:e.label,type:e.type,control:f,register:h,formstate:v,required:e.required})},e.name)})),(0,l.jsx)(t.ZP,{item:!0,xs:12,children:(0,l.jsx)(o.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:x})}),c]})})}},2692:function(e,n,r){r.r(n),r.d(n,{default:function(){return Pe}});var t=r(4165),a=r(5861),o=r(9439),i=r(2791),c=r(1104),s=r(3433),l=r(9526),u=r(4554),d=r(5527),x=r(890),p=r(6151),h=r(1889),m=r(9658),f=r(1134),Z=r(4942),v=r(3366),b=r(7462),g=r(8182),j=r(4419),y=r(4036),C=r(6934),k=r(1402),w=r(3031),S=r(2071),P=r(5878),A=r(1217);function D(e){return(0,A.Z)("MuiLink",e)}var M,I=(0,P.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),B=r(8529),q=r(2065),V={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},W=function(e){var n=e.theme,r=e.ownerState,t=function(e){return V[e]||e}(r.color),a=(0,B.DW)(n,"palette.".concat(t),!1)||r.color,o=(0,B.DW)(n,"palette.".concat(t,"Channel"));return"vars"in n&&o?"rgba(".concat(o," / 0.4)"):(0,q.Fq)(a,.4)},_=r(184),F=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],N=(0,C.ZP)(x.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,n["underline".concat((0,y.Z)(r.underline))],"button"===r.component&&n.button]}})((function(e){var n=e.theme,r=e.ownerState;return(0,b.Z)({},"none"===r.underline&&{textDecoration:"none"},"hover"===r.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===r.underline&&(0,b.Z)({textDecoration:"underline"},"inherit"!==r.color&&{textDecorationColor:W({theme:n,ownerState:r})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===r.component&&(0,Z.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(I.focusVisible),{outline:"auto"}))})),R=i.forwardRef((function(e,n){var r=(0,k.Z)({props:e,name:"MuiLink"}),t=r.className,a=r.color,c=void 0===a?"primary":a,l=r.component,u=void 0===l?"a":l,d=r.onBlur,x=r.onFocus,p=r.TypographyClasses,h=r.underline,m=void 0===h?"always":h,f=r.variant,Z=void 0===f?"inherit":f,C=r.sx,P=(0,v.Z)(r,F),A=(0,w.Z)(),M=A.isFocusVisibleRef,I=A.onBlur,B=A.onFocus,q=A.ref,W=i.useState(!1),R=(0,o.Z)(W,2),T=R[0],O=R[1],H=(0,S.Z)(n,q),z=(0,b.Z)({},r,{color:c,component:u,focusVisible:T,underline:m,variant:Z}),E=function(e){var n=e.classes,r=e.component,t=e.focusVisible,a=e.underline,o={root:["root","underline".concat((0,y.Z)(a)),"button"===r&&"button",t&&"focusVisible"]};return(0,j.Z)(o,D,n)}(z);return(0,_.jsx)(N,(0,b.Z)({color:c,className:(0,g.Z)(E.root,t),classes:p,component:u,onBlur:function(e){I(e),!1===M.current&&O(!1),d&&d(e)},onFocus:function(e){B(e),!0===M.current&&O(!0),x&&x(e)},ref:H,ownerState:z,variant:Z,sx:[].concat((0,s.Z)(Object.keys(V).includes(c)?[]:[{color:c}]),(0,s.Z)(Array.isArray(C)?C:[C]))},P))})),T=r(1087),O=r(2348),H=function(e){var n=e.data;return(0,_.jsx)(R,{component:T.rU,to:"/account/".concat(n._id),sx:{textDecoration:"none"},children:(0,_.jsxs)(d.Z,{sx:{padding:"20px",flex:"1",color:"white",background:"linear-gradient(90deg, rgb(22 118 210) 0%, rgb(185 136 255) 100%)"},children:[(0,_.jsx)(x.Z,{children:"Account Number"}),(0,_.jsx)(x.Z,{variant:"h6",sx:{fontWeight:"bold",letterSpacing:"8px",marginBottom:"20px"},children:n.number}),(0,_.jsx)(x.Z,{children:"Balance"}),(0,_.jsxs)(x.Z,{variant:"h5",sx:{fontWeight:"bold",letterSpacing:"2px"},children:[O.oq,n.balance]})]})})},z=r(3906),E=r(195),$=r(1691),L=r(9629),U={formName:"Create Account",submitButtonText:"Create",formFields:[{label:"Select account type",name:"type",type:"select",options:[{name:"Regular",value:"regular"},{name:"Premium",value:"premium"}],required:{value:!0,message:"Please select account type"},defaultValue:""},{label:"Amount to be credited",name:"balance",type:"number",required:{value:!0,message:"Please add balance to account"},defaultValue:"",customValidation:!0}]},Y=function(e){var n=e.createAccountFormSubmitHandler,r=e.createAccountApiError,t=e.openCreateAccountModal,a=e.handleModalClose;return(0,_.jsx)(z.Z,{isOpen:t,handleClose:a,children:(0,_.jsxs)(E.Z,{children:[r&&(0,_.jsx)(m.Z,{severity:"error",sx:{marginBottom:"20px"},children:r}),(0,_.jsx)($.Z,{sx:{marginBottom:"20px"},children:"Please provide details below:"}),(0,_.jsx)(L.Z,{data:U,formSubmitHandler:n,children:(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(p.Z,{fullWidth:!0,size:"large",variant:"outlined",onClick:a,children:"Cancel"})})})]})})},Q=r(168),G=r(5702),J=(0,G.gql)(M||(M=(0,Q.Z)(["\n  mutation AddAccount($data: AccountInsertInput!) {\n    insertOneAccount(data: $data) {\n      _id\n      number\n      balance\n    }\n  }\n"]))),K=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a,o,i,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.queryVariables,a=void 0===r?{}:r,o=n.headers,i=void 0===o?{}:o,e.next=3,(0,G.request)(O.Z2,J,a,i);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),X=K,ee=function(e){var n=e.data,r=(0,i.useState)(!1),c=(0,o.Z)(r,2),Z=c[0],v=c[1],b=(0,i.useContext)(l.S).user,g=(0,i.useState)(n),j=(0,o.Z)(g,2),y=j[0],C=j[1],k=(0,i.useState)(),w=(0,o.Z)(k,2),S=w[0],P=w[1],A={Authorization:"Bearer ".concat(b._accessToken)},D=function(){v(!Z)},M=(0,f.cI)(),I=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!("premium"===n.type&&n.balance<1e4)){e.next=5;break}P("Minimum amount to be credited for premium account is Rs.10000"),e.next=11;break;case 5:return r={data:{type:n.type,balance:parseInt(n.balance),createdAt:new Date,currency:"INR",number:parseInt(Math.floor(1e10*Math.random())+1),userId:b.id}},e.next=8,X({queryVariables:r,headers:A});case 8:a=e.sent,D(),C([].concat((0,s.Z)(y),[a.insertOneAccount]));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),P(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}();return(0,_.jsxs)(u.Z,{children:[(0,_.jsxs)(d.Z,{sx:{padding:"15px 20px",display:"flex",margin:"20px 0",backgroundColor:"#f9f9f9"},children:[(0,_.jsx)(x.Z,{variant:"h5",sx:{flex:"1"},children:"Accounts"}),(0,_.jsx)(p.Z,{variant:"outlined",onClick:function(){return v(!0)},children:"Create account"})]}),(0,_.jsx)(Y,{createAccountForm:M,createAccountFormSubmitHandler:I,createAccountApiError:S,openCreateAccountModal:Z,handleModalClose:D}),(0,_.jsx)(h.ZP,{container:!0,spacing:2,children:y.length?y.map((function(e){return(0,_.jsx)(h.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,_.jsx)(H,{data:e})},e._id)})):(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(m.Z,{severity:"error",children:"No account found!"})})})]})};ee.defaultProps={data:[]};var ne,re=ee,te=(0,G.gql)(ne||(ne=(0,Q.Z)(["\n  mutation AddCard($data: CardInsertInput!) {\n    insertOneCard(data: $data) {\n      _id\n      number\n      expiry\n      type\n      balance\n    }\n  }\n"]))),ae=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a,o,i,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.queryVariables,a=void 0===r?{}:r,o=n.headers,i=void 0===o?{}:o,e.next=3,(0,G.request)(O.Z2,te,a,i);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),oe=ae,ie=r(1184),ce=r(5682),se=r(8519),le=r(2466),ue=["component","direction","spacing","divider","children"];function de(e,n){var r=i.Children.toArray(e).filter(Boolean);return r.reduce((function(e,t,a){return e.push(t),a<r.length-1&&e.push(i.cloneElement(n,{key:"separator-".concat(a)})),e}),[])}var xe=(0,C.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,r=e.theme,t=(0,b.Z)({display:"flex",flexDirection:"column"},(0,ie.k9)({theme:r},(0,ie.P$)({values:n.direction,breakpoints:r.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var a=(0,ce.hB)(r),o=Object.keys(r.breakpoints.values).reduce((function(e,r){return("object"===typeof n.spacing&&null!=n.spacing[r]||"object"===typeof n.direction&&null!=n.direction[r])&&(e[r]=!0),e}),{}),i=(0,ie.P$)({values:n.direction,base:o}),c=(0,ie.P$)({values:n.spacing,base:o});"object"===typeof i&&Object.keys(i).forEach((function(e,n,r){if(!i[e]){var t=n>0?i[r[n-1]]:"column";i[e]=t}}));t=(0,le.Z)(t,(0,ie.k9)({theme:r},c,(function(e,r){return{"& > :not(style) + :not(style)":(0,Z.Z)({margin:0},"margin".concat((t=r?i[r]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[t])),(0,ce.NA)(a,e))};var t})))}return t=(0,ie.dt)(r.breakpoints,t)})),pe=i.forwardRef((function(e,n){var r=(0,k.Z)({props:e,name:"MuiStack"}),t=(0,se.Z)(r),a=t.component,o=void 0===a?"div":a,i=t.direction,c=void 0===i?"column":i,s=t.spacing,l=void 0===s?0:s,u=t.divider,d=t.children,x=(0,v.Z)(t,ue),p={direction:c,spacing:l};return(0,_.jsx)(xe,(0,b.Z)({as:o,ownerState:p,ref:n},x,{children:u?de(d,u):d}))})),he=pe,me=function(e){var n=e.createCardFormSubmitHandler,r=e.createCardApiError,t=e.openCreateCardModal,a=e.handleModalClose,o=e.userData,i=o&&o.customData&&parseInt(o.customData.income),c=i&&(i>5e5||i<5e5&&i>2e5)||0,s=i>5e5?15e4:5e4;return console.log(i),(0,_.jsx)(z.Z,{isOpen:t,handleClose:a,children:(0,_.jsxs)(E.Z,{children:[r&&(0,_.jsx)(m.Z,{severity:"error",sx:{marginBottom:"20px"},children:r}),c?(0,_.jsxs)($.Z,{sx:{marginBottom:"20px"},children:["You are eligible for credit card with limit: INR ",s]}):(0,_.jsx)($.Z,{sx:{marginBottom:"20px"},children:"Based on your annual income, you are not eligible for credit card!!!"}),(0,_.jsxs)(he,{direction:"row",spacing:2,children:[c?(0,_.jsx)(p.Z,{fullWidth:!0,onClick:function(){return n(s)},variant:"contained",children:"Proceed"}):"",(0,_.jsx)(p.Z,{fullWidth:!0,onClick:function(){return a()},variant:"outlined",children:"Cancel"})]})]})})},fe=function(e){var n=e.data,r=new Date(n.expiry),t=r.getUTCFullYear().toString().slice(2),a=("0"+(r.getMonth()+1)).slice(-2);return(0,_.jsx)(R,{component:T.rU,to:"/card/".concat(n._id),sx:{textDecoration:"none"},children:(0,_.jsxs)(d.Z,{sx:{padding:"20px",flex:"1",color:"white",background:"linear-gradient(90deg, rgb(22 118 210) 0%, rgb(185 136 255) 100%)"},children:[(0,_.jsx)(x.Z,{children:"Card Number"}),(0,_.jsx)(x.Z,{variant:"h6",sx:{fontWeight:"bold",letterSpacing:"8px",marginBottom:"20px"},children:n.number}),(0,_.jsx)(x.Z,{children:"Available Credit"}),(0,_.jsxs)(x.Z,{variant:"h6",sx:{fontWeight:"bold",letterSpacing:"2px",marginBottom:"20px"},children:[O.oq,n.balance]}),(0,_.jsxs)(h.ZP,{container:!0,children:[(0,_.jsxs)(h.ZP,{item:!0,sx:{flex:1},children:[(0,_.jsx)(x.Z,{children:"Valid thru"}),(0,_.jsxs)(x.Z,{variant:"h5",sx:{fontWeight:"bold",letterSpacing:"2px"},children:[a,"/",t]})]}),(0,_.jsxs)(h.ZP,{item:!0,children:[(0,_.jsx)(x.Z,{children:"Type"}),(0,_.jsx)(x.Z,{variant:"h5",sx:{fontWeight:"bold",letterSpacing:"1px"},children:n.type})]})]})]})})},Ze=function(e){var n=e.data,r=(0,i.useState)(!1),c=(0,o.Z)(r,2),Z=c[0],v=c[1],b=(0,i.useContext)(l.S).user,g=(0,i.useState)(n),j=(0,o.Z)(g,2),y=j[0],C=j[1],k=(0,i.useState)(),w=(0,o.Z)(k,2),S=w[0],P=w[1],A={Authorization:"Bearer ".concat(b._accessToken)},D=function(){v(!Z)},M=function(){var e=new Date,n=e.getFullYear(),r=e.getMonth(),t=e.getDate();return new Date(n+3,r,t)},I=(0,f.cI)(),B=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={data:{type:5e4===n?"Gold":"Platinum",annualCharges:5e4===n?1e3:2500,limit:n,balance:n,createdAt:new Date,currency:"INR",number:parseInt(Math.floor(1e16*Math.random())+1),cvv:parseInt(Math.floor(1e3*Math.random())+1),expiry:M(),userId:b.id,name:b.name}},e.next=4,oe({queryVariables:r,headers:A});case 4:a=e.sent,D(),C([].concat((0,s.Z)(y),[a.insertOneCard])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),P(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,_.jsxs)(u.Z,{children:[(0,_.jsxs)(d.Z,{sx:{padding:"15px 20px",display:"flex",margin:"20px 0",backgroundColor:"#f9f9f9"},children:[(0,_.jsx)(x.Z,{variant:"h5",sx:{flex:"1"},children:"Cards"}),(0,_.jsx)(p.Z,{variant:"outlined",onClick:function(){return v(!0)},children:"Create card"})]}),(0,_.jsx)(me,{userData:b,createCardForm:I,createCardFormSubmitHandler:B,createCardApiError:S,openCreateCardModal:Z,handleModalClose:D}),(0,_.jsx)(h.ZP,{container:!0,spacing:2,children:y.length?y.map((function(e){return(0,_.jsx)(h.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,_.jsx)(fe,{data:e})},e._id)})):(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(m.Z,{severity:"error",children:"No card found!"})})})]})};Ze.defaultProps={data:[]};var ve,be=Ze,ge=r(3389),je=function(e){var n=e.data;return(0,_.jsxs)(u.Z,{children:[(0,_.jsx)(d.Z,{sx:{padding:"15px 20px",display:"flex",margin:"20px 0",backgroundColor:"#f9f9f9"},children:(0,_.jsx)(x.Z,{variant:"h5",sx:{flex:"1"},children:"Recent transactions"})}),n.length?(0,_.jsx)(ge.Z,{data:n,tableHeadings:O.QP}):(0,_.jsx)(h.ZP,{item:!0,xs:12,children:(0,_.jsx)(m.Z,{severity:"error",children:"No transactions data found!"})})]})},ye=function(e){var n=e.data;return(0,_.jsxs)(u.Z,{children:[(0,_.jsx)(d.Z,{sx:{padding:"15px 20px",display:"flex",margin:"20px 0",backgroundColor:"#f9f9f9"},children:(0,_.jsx)(x.Z,{variant:"h5",sx:{flex:"1"},children:"Upcoming transactions"})}),(0,_.jsx)(ge.Z,{data:n,tableHeadings:O.te})]})},Ce=(0,G.gql)(ve||(ve=(0,Q.Z)(["\n  query getDashboadData {\n    accounts {\n      _id\n      type\n      number\n      balance\n    }\n\n    cards {\n      _id\n      number\n      expiry\n      type\n      balance\n    }\n\n    transactions {\n      _id\n      number\n      amount\n      destination_account\n      createdAt\n      description\n    }\n\n    upcoming_transactions {\n      _id\n      number\n      amount\n      destination_account\n      createdAt\n      description\n    }\n  }\n"]))),ke=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a,o,i,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.queryVariables,a=void 0===r?{}:r,o=n.headers,i=void 0===o?{}:o,e.next=3,(0,G.request)(O.Z2,Ce,a,i);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),we=ke,Se=r(5231),Pe=function(){var e=(0,i.useState)([]),n=(0,o.Z)(e,2),r=n[0],s=n[1],u=(0,i.useState)(!0),d=(0,o.Z)(u,2),x=d[0],p=d[1],h=(0,i.useState)(),f=(0,o.Z)(h,2),Z=f[0],v=f[1],b=(0,i.useContext)(l.S).user,g={Authorization:"Bearer ".concat(b._accessToken)},j=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we({headers:g});case 3:n=e.sent,s(n),p(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v(e.t0.error);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){j()}),[]),(0,_.jsxs)(c.Z,{children:[x?(0,_.jsx)(Se.Z,{}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(re,{data:r.accounts}),(0,_.jsx)(be,{data:r.cards}),(0,_.jsx)(ye,{data:r.upcoming_transactions}),(0,_.jsx)(je,{data:r.transactions})]}),Z&&(0,_.jsx)(m.Z,{severity:"error",children:"No data found!"})]})}}}]);
//# sourceMappingURL=692.0511cd1f.chunk.js.map